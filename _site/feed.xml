<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Matt Giguere</title>
    <description>Hi, I&#39;m Matt Giguere, a graduate student searching for rocky planets and characterizing stellar activity of the stars that host them. In addition to working towards the discovery  of other rocky worlds, I am constantly working to defend my best dad  of the year title. I also enjoy learning new programming languages,  new statistical methods, and new visualization tools, and making  things in many different media.
</description>
    <link>http://mattgiguere.github.io/</link>
    <atom:link href="http://mattgiguere.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sat, 21 Feb 2015 14:19:27 -0500</pubDate>
    <lastBuildDate>Sat, 21 Feb 2015 14:19:27 -0500</lastBuildDate>
    <generator>Jekyll v2.5.3</generator>
    
      <item>
        <title>The Last YastroML</title>
        <description>&lt;p&gt;Yesterday we concluded &lt;a href=&quot;https://github.com/YastroML/YastroML&quot;&gt;YastroML&lt;/a&gt;, the Yale astronomy Machine
Learning Discussion Group. Over the past year we have been irregularly meeting
to go over the newly released textbook &lt;a href=&quot;http://press.princeton.edu/titles/10159.html&quot;&gt;Statistics, Data Mining, and Machine
Learning in Astronomy&lt;/a&gt;: a textbook that, as its name implies, goes
over a variety of statistical, data mining, and machine learning techniques
that are relevant to astronomy. As I was looking into ordering the book, I
noticed on twitter that a group of people at Columbia and other institutions
in NYC had started up a discussion group to go over the material, which they
referred to as &lt;a href=&quot;https://github.com/adrn/NYCastroML&quot;&gt;NYCastroML&lt;/a&gt;. This sounded like a terrific idea, and
I immediately decided that I’d try to take part in this weeklyish events. I
started crafting an email to inform other people in the Yale astronomy
Department about the event, and my list of people to include grew, and grew,
and grew… I decided that instead I’d send an email out to the department
to gauge interest in organizing something here at Yale. The response was
overwhelming — YastroML was born.&lt;/p&gt;

&lt;p&gt;We started meeting weekly in March of the Spring 2014 semester; we stuck to our
weekly schedule fairly well until the end of the semester. Academics always
seem to think they will have plenty of free time come summer. In practice,
between conferences, workshops, summer schools, and extra curricular
activities, that never seems to be the case. With the end of the Spring
Semester came the end of our weekly schedule. We met sporadically since then,
and our meeting yesterday marked the completion of the final chapter. &lt;/p&gt;

</description>
        <pubDate>Fri, 20 Feb 2015 12:30:48 -0500</pubDate>
        <link>http://mattgiguere.github.io/2015/02/20/last-yastroml.html</link>
        <guid isPermaLink="true">http://mattgiguere.github.io/2015/02/20/last-yastroml.html</guid>
        
        <category>python,</category>
        
        <category>time</category>
        
        <category>series</category>
        
        <category>analysis,</category>
        
        <category>YastroML</category>
        
        
      </item>
    
      <item>
        <title>More Spot Modeling</title>
        <description>&lt;p&gt;Continuing from where I &lt;a href=&quot;/2015/02/10/spot-modeling.html&quot;&gt;left off last time&lt;/a&gt;, I tested out a
three spot model today. Here’s the Maximum Likelihood solution
for the two spot model in two dimensions:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/TwoSpotModel.png&quot; alt=&quot;Two Spot Model&quot; /&gt;&lt;/p&gt;

&lt;p&gt;where I used an Aitoff projection to show the spot locations
and relative sizes. And here’s the three spot solution:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_ThreeSpotModel.png&quot; alt=&quot;Three Spot Model&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Note that the two rightmost spots in the three spot solution are very
similar in size to the rightmost spot in the two spot solution. And
the average latitude of those two rightmost spots in the three spot
solution is approximately the latitude of the single rightmost spot
in the two spot solution.&lt;/p&gt;

&lt;p&gt;Including only three spots and we already see the degenerate
dangers of spot modeling. On the two do list is to take a
bayesian approach and use the &lt;code&gt;emcee&lt;/code&gt; MCMC sampler to further
explore parameter space and make sure the two rightmost spots in
the two spot solution are not both getting caught in the same
local minimum.&lt;/p&gt;

&lt;p&gt;We also have a lot of prior information we know for this problem
that we’ll be able to include when taking the Bayesian approach.
More on that later…&lt;/p&gt;

</description>
        <pubDate>Thu, 12 Feb 2015 15:45:45 -0500</pubDate>
        <link>http://mattgiguere.github.io/2015/02/12/more-spot-modeling.html</link>
        <guid isPermaLink="true">http://mattgiguere.github.io/2015/02/12/more-spot-modeling.html</guid>
        
        <category>python,</category>
        
        <category>simulation,</category>
        
        <category>animation,</category>
        
        <category>pandas,</category>
        
        <category>map</category>
        
        <category>projections,</category>
        
        <category>aitoff</category>
        
        
      </item>
    
      <item>
        <title>Stellar Spot Modeling</title>
        <description>&lt;p&gt;Over the past two days I worked on fitting the simultaneous MOST photometry
and CHIRON RV measurements of Epsilon Eridani. This document describes
some of the more general code as well as the early results. The full
spot modeling code will be made publicly available when the peer-reviewed
paper is accepted.&lt;/p&gt;

&lt;h4 id=&quot;importing-the-data&quot;&gt;Importing the Data&lt;/h4&gt;

&lt;p&gt;After finding out over the weekend that the times we stored in IDL data
structures (and published over the last 6 years) were erroneous, I used
the exposure meter midpoints from the MySQL database instead:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;SELECT emmnwob, mnvel, errvel FROM exposuremeter e &amp;quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;INNER JOIN velocities v ON v.observation_id = e.observation_id &amp;quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;INNER JOIN observations o ON o.observation_id = e.observation_id &amp;quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;WHERE object=22049 AND tag=&amp;#39;a&amp;#39; AND mnvel IS NOT NULL&amp;quot;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;engine&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ccdb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connectChironDB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;eerv&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_sql_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;engine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And converted the exposure meter midpoints to Julian Dates using
the &lt;code&gt;pandas&lt;/code&gt; &lt;code&gt;DatetimeIndex&lt;/code&gt; and &lt;code&gt;to_julian_date()&lt;/code&gt; methods:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;emmnwobjds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DatetimeIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eerv&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;emmnwob&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;eerv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;emmnwobjd&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emmnwobjds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_julian_date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The next step was to restore the MOST data from file and downsample by taking a
running mean. Downsampling reduced the noise and allowed the photometry to
be combined with the RV data without completely dominating the solution.
Both restoring the data and downsampling were accomplished in
pandas with a little help from the &lt;code&gt;Time&lt;/code&gt; method in &lt;code&gt;astropy&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;astropy.time&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Time&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#restore data&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;eeph&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;epsEriMost.txt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sep&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;\s+&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;skipinitialspace&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#create JD astropy Time object for easy conversion to ISO format:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;MostJds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eeph&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MJD&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;2451545.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;jd&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#now store as DatetimeIndex&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;eeph&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;ObsDT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DatetimeIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MostJds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#next create a one column series of flux values with the observation&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#time as the index:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;eemr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eeph&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;flux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eeph&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;ObsDT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mhc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Mean&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;downsampledtimes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eemr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;480min&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;how&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mhc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_julian_date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;downsampledflux&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eemr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;480min&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;how&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mhc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Since the MOST data have reported homoscedastic errors (a rarity in astronomy)
this worked out. Otherwise, we’d need to take a weighted mean.&lt;/p&gt;

&lt;h4 id=&quot;the-maximum-likelihood-method&quot;&gt;The Maximum Likelihood Method&lt;/h4&gt;

&lt;p&gt;We would like to fit the spectroscopic and photometric data simultaneously
to get a self-consistent model describing the star. For a first step in doing
this, I went with a quick maximum likelihood approach. The log likehood function
for the problem is:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;\[
\ln{p(v, \phi|t, \sigma, t&#39;, \sigma&#39;, \Theta)} = - \frac{1}{2} \sum_{n}\left[ \frac{(v_{n} - f(t_{n}| \Theta))^{2}}{\sigma_{n}^2} + \ln{(2 \pi \sigma_{n}^{2})}\right]
- \frac{1}{2} \sum_{m}\left[ \frac{(\phi_{m} - f&#39;(t&#39;_{m}| \Theta))^{2}}{\sigma_{m}^{&#39;2}} + \ln{(2 \pi \sigma_{m}^{&#39;2})}\right]
\]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;where &lt;script type=&quot;math/tex&quot;&gt;v_{n}&lt;/script&gt; is the radial velocity measurement for the &lt;script type=&quot;math/tex&quot;&gt;n^{th}&lt;/script&gt; observation taken at time &lt;script type=&quot;math/tex&quot;&gt;t_{n}&lt;/script&gt;, &lt;script type=&quot;math/tex&quot;&gt;\sigma_{n}&lt;/script&gt; is the single measurement uncertainty, and &lt;script type=&quot;math/tex&quot;&gt;f&lt;/script&gt; is the radial velocity spot model given our hyperparamers, &lt;script type=&quot;math/tex&quot;&gt;\Theta&lt;/script&gt;, &lt;script type=&quot;math/tex&quot;&gt;\phi_{m}&lt;/script&gt; is the flux of the &lt;script type=&quot;math/tex&quot;&gt;m^{th}&lt;/script&gt; photometric observation happening at time &lt;script type=&quot;math/tex&quot;&gt;t&#39;&lt;/script&gt;, &lt;script type=&quot;math/tex&quot;&gt;f&#39;&lt;/script&gt; is the photometric spot model given our same hyperparameters, &lt;script type=&quot;math/tex&quot;&gt;\Theta&lt;/script&gt;, and &lt;script type=&quot;math/tex&quot;&gt;\sigma_{m}^{&#39;}&lt;/script&gt; is the photometric uncertainty of the &lt;script type=&quot;math/tex&quot;&gt;m^{th}&lt;/script&gt; observation. The hyperparameters here are&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the latitude of spot 1&lt;/li&gt;
  &lt;li&gt;the phase of spot 1&lt;/li&gt;
  &lt;li&gt;the fractional area of spot 1&lt;/li&gt;
  &lt;li&gt;the latitude of spot 2&lt;/li&gt;
  &lt;li&gt;the phase of spot 2&lt;/li&gt;
  &lt;li&gt;the fractional area of spot 2&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This was then driven by minimizing the negative of the log likelihood:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;c&quot;&gt;#use the scipy optimize method:&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;scipy.optimize&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;op&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;nll&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lnlike&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;op&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;minimize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theta_init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ferr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                     &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Powell&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;For a first pass we decided to include two spots. No spot growth or decay.
No differential rotation. Just something quick and dirty, but it was clear
at least two spots were needed. Below is an animation showing the result.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_ObsAnim12medPause.gif&quot; alt=&quot;Spot Modeling Photometry and Spectroscopy Simultaneously&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 10 Feb 2015 13:35:53 -0500</pubDate>
        <link>http://mattgiguere.github.io/2015/02/10/spot-modeling.html</link>
        <guid isPermaLink="true">http://mattgiguere.github.io/2015/02/10/spot-modeling.html</guid>
        
        <category>python,</category>
        
        <category>imagemagick,</category>
        
        <category>simulation,</category>
        
        <category>animation,</category>
        
        <category>pandas</category>
        
        
      </item>
    
      <item>
        <title>Barycentric Correction Results</title>
        <description>&lt;p&gt;I spent some time this weekend looking more into the barycentric correction.
I couldn’t figure out why the barycentric corrections from barycorr were so
much worse than from the old barycentric correction code. It turned out it
was because there was a bug with the CF structures — the modified julian
dates in the CF structures were stored as doubles, but somewhere in the
reduction pipeline they are treated as FLOATs, which only have precision
to about the minute level. This corresponds to introducing an error at
about the 2 m/s level. &lt;/p&gt;
</description>
        <pubDate>Sun, 08 Feb 2015 17:13:45 -0500</pubDate>
        <link>http://mattgiguere.github.io/2015/02/08/barycenter-results.html</link>
        <guid isPermaLink="true">http://mattgiguere.github.io/2015/02/08/barycenter-results.html</guid>
        
        <category>python,</category>
        
        <category>mpi4py,</category>
        
        <category>mcmc,</category>
        
        <category>osx,</category>
        
        <category>emcee,</category>
        
        <category>barycentric</category>
        
        <category>correction</category>
        
        
      </item>
    
      <item>
        <title>The CHIRON Barycentric Correction</title>
        <description>&lt;p&gt;When using the radial velocity method to search for planets orbiting
nearby stars, the dominant signal is always due to the Earth’s motion
about the barycenter of the solar system. Our annual orbit induces
a signal of 30,000 m/s. Furthermore, as the observatory rotates towards
the star, the Earth’s rotation can induce a maximumradial velocity of 400 m/s.
If we didn’t correct for these two effects, we would find all sorts of celestial
bodies with annual and daily orbits. But to find low mass planets, there are
all sorts of other motions and effects that need to be taken into account. For
example, if we didn’t account for the presence of Jupiter, we would see a 12 m/s
signal with a period of approximately 12 years. For each spectroscopic observation
we take, we calculate a precise photon-weighted midpoint of the observation, and
then calculate a barycentric correction to subtract from the Doppler measurement.
This barycentric correction takes into account the relative motions of all the
planets and many minor bodies in the Solar System, the position of the observatory
on Earth, leap seconds due to events such as storms and earth quakes on Earth that
speed up or slow down the Earth’s rotation, etc. For a great description of all that
goes into the barycentric correction, see &lt;a href=&quot;http://arxiv.org/abs/1409.4774&quot;&gt;Barycentric Corrections at 1 cm/s for precise Doppler velocities&lt;/a&gt; by Wright &amp;amp; Eastman (2014).&lt;/p&gt;

&lt;p&gt;The other day I noticed a rather interesting correlation between the radial velocity
measurements and the barycentric correction. It can be seen in the following plot, which
shows the RV Measurements as a function of the Barycentric Correction.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_RvVsBary2Years.png&quot; alt=&quot;RV Measurements as a Function of Barycentric Correction&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In red are Doppler measurements based on CHIRON observations of Tau Ceti in 2014, and in blue are
the same, but based on 2012 data. While the correlation is not perfect, it’s quite clear in
a few regions (e.g, &amp;lt; -20,000 m/s, and between -8,000 m/s and 0 m/s). This can be
seen a little more clearly by applying a running mean to the data, which
can be seen at the solid lines in the following figure.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_RvVsBary2YearsBoxcar.png&quot; alt=&quot;Same as above, but with a running mean&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This signal is not really periodic, so it’s most likely not due to a planet in a perfect harmonic
with the Earth’s orbit, and I also wouldn’t expect it to be due to an issue with the barycentric
correction for the same reason. However, we want to make sure we have the best barycentric
correction possible so that we can find genuine low mass planets and not harmonics of a
poor treatment of the motions of celestial bodies in our Solar System. A simple first step was
to replace our current barycentric correction code with the improved code by the above mentioned
&lt;a href=&quot;http://adsabs.harvard.edu/abs/2014PASP..126..838W&quot;&gt;Wright &amp;amp; Eastman (2014)&lt;/a&gt;. So I downloaded
&lt;a href=&quot;http://astroutils.astronomy.ohio-state.edu/exofast/&quot;&gt;their code&lt;/a&gt;, and all the dependencies,
setup Launch Daemon scripts to check for daily updates for leap seconds and so forth, and
recalculated the barycentric corrections for all of our velocity measurements. The result
was an RMS for the Tau Ceti RV time series that was 30 cm/s greater than the RMS from the previous
code.&lt;/p&gt;

&lt;p&gt;I then started looking into everything that could be wrong. I double-checked that the coordinates
I was using were the most accurate. For Tau Ceti this required checking the RA, dec, proper motions,
and parallax were all from the
&lt;a href=&quot;https://heasarc.gsfc.nasa.gov/W3Browse/all/hipnewcat.html&quot;&gt;&lt;em&gt;Hipparcos&lt;/em&gt; New Astrometric Catalog&lt;/a&gt;
(&lt;a href=&quot;http://adsabs.harvard.edu/cgi-bin/bib_query?2007A&amp;amp;A...474..653V&quot;&gt;van Leeuwen (2007)&lt;/a&gt;). The whole
catalog can be found online on the Vizier site. The data for Tau Ceti in particular can be found
&lt;a href=&quot;http://vizier.u-strasbg.fr/viz-bin/VizieR-5?-ref=VIZ54d3a7714f13&amp;amp;-out.add=.&amp;amp;-source=I/311/hip2&amp;amp;recno=8087&quot;&gt;here&lt;/a&gt;.
For CTIO, the most precise coordinates for the 1.5 m were measured by
&lt;a href=&quot;http://arxiv.org/abs/1210.1616&quot;&gt;Mamajek (2012)&lt;/a&gt;. I was indeed already using the most up to date
coordinates.&lt;/p&gt;

&lt;p&gt;I then decided maybe we can do better than these measurements. We have this great time series of
precise RV measurements. Can you we use those measurements to infer a more accurate position of
the observatory here on Earth and a more accurate position and relative motions for Tau Ceti? I
thought it’d be worth a shot, so I setup &lt;a href=&quot;http://dan.iel.fm/emcee/current/&quot;&gt;emcee&lt;/a&gt; on several
machines in our group cluster, got MPI running on all the machines, and thought I’d try calculating
more accurate hyperparameters through sampling the posterior PDF.&lt;/p&gt;

&lt;p&gt;For priors for the observatory position I used Gaussians that were centered on the Mamjek values
and had a standard deviations that were a factor of a few larger than the standard deviation
of the previously measured values. These priors are shown below, where the vertical blue lines
show previously published results, and the red lines show the resulting priors.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_ObservatoryPriors.png&quot; alt=&quot;CTIO 1.5 m Observatory Coordinate Priors&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For the priors for the coordinates and motions of Tau Ceti I again used Gaussians centered on
the &lt;em&gt;Hipparcos&lt;/em&gt; data with standard deviations a few times those of their reported uncertainties.
These can be seen below, where the values and uncertainties from the intial reduction are shown
in blue, and values and uncertainties from the new reduction mentioned above are shown in yellow,
and the priors used are shown in red.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_TauCetiCoordsPriors.png&quot; alt=&quot;CTIO 1.5 m Observatory Coordinate Priors&quot; /&gt;&lt;/p&gt;

&lt;p&gt;After some tweaking, the 100 walkers had a nice spread in their intial values to properly probe
the parameter space within a reasonable number of steps. The resulting chains for each parameter
as a function of step number can be seen below.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_Chains.png&quot; alt=&quot;MCMC Chains&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I then said the burn-in period completed in about 200 steps, cut those out, and below are the
resulting distributions from sampling the posterior.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_TriCornerCoords.png&quot; alt=&quot;Triangle Plot Showing PDFs&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The median values for each parameter were then fed into &lt;code&gt;barycorr&lt;/code&gt;. This reduced the RMS, but
still not below the value from the old barycorr.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Method&lt;/th&gt;
      &lt;th&gt;RMS&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Old Barycode&lt;/td&gt;
      &lt;td&gt;2.178 m/s&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Barycorr J2000- Hip &amp;amp; Mam vals&lt;/td&gt;
      &lt;td&gt;2.722 m/s&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Barycorr /hip - Hip &amp;amp; Mam vals&lt;/td&gt;
      &lt;td&gt;2.474 m/s&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Barycorr /hip - MCMC vals&lt;/td&gt;
      &lt;td&gt;2.467 m/s&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;I then looked into whether or not any structure existed between the old barycentric correction
and the new. The time series of the (“Old Barycode” - “Barycorr with Mamajek (2012) and van Leeuwen (2007) (1991.25 Epoch))
 residuals is shown below.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_BarycentricDifference.png&quot; alt=&quot;Residual Time Series of Old Barycode - Barycorr w. Mamajek and van Leeuwen vals (1991.25 Epoch)&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I was a little surprised to see the lack of structure in the residuals. I was expecting something
with maybe an annual, semi-annual, or at least periodic signal. Looking at the distribution of
the residuals shows nothing strange — they appear roughly normally distributed about some offset.
Since we’re only concerned with differential RVs, the offset isn’t a big deal. I know we’ve seen
this before.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_OldBC-BarycorrHipMamajekVanLeeuwenDist.png&quot; alt=&quot; Distribution of Old Barycode - Barycorr w. Mamajek and van Leeuwen vals (1991.25 Epoch)&quot; /&gt;&lt;/p&gt;

&lt;p&gt;And looking at a periodogram of the time series shows nothing significant. Below is a plot showing the
periodogoram of the same data set: Old barycode - Barycorr with Mamajek (2012) CTIO 1.5 m, van Leeuwen (2007),
and 1991.25 Epoch. The superimposed horizontal lines are the 95% and 99% confidence levels based on a Boostrap
MC analysis. These show that there is no significant power at any period between 0.1 and 400 days.
The highest peak is at a period of 117.79 days, and the second highest peak is at period of 171.43 days.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_OldBC-BarycorrHipMamajekVanLeeuwenPerg.png&quot; alt=&quot;Periodogram of Old Barycode - Barycorr w. Mamajek and van Leeuwen vals (Hip Epoch)&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Thu, 05 Feb 2015 07:56:12 -0500</pubDate>
        <link>http://mattgiguere.github.io/2015/02/05/barycentric-correction.html</link>
        <guid isPermaLink="true">http://mattgiguere.github.io/2015/02/05/barycentric-correction.html</guid>
        
        <category>python,</category>
        
        <category>mpi4py,</category>
        
        <category>mcmc,</category>
        
        <category>osx,</category>
        
        <category>emcee,</category>
        
        <category>barycentric</category>
        
        <category>correction</category>
        
        
      </item>
    
      <item>
        <title>Setting up mpi4py</title>
        <description>&lt;p&gt;Today I’ve been trying to get &lt;code&gt;emcee&lt;/code&gt; up and running and to use it with MPI. There were a number of obstacles that I needed to overcome to get MPI working on multiple machines.&lt;/p&gt;

&lt;p&gt;I have an anaconda installation of python, and mpi4py is one of the packages they support (more below), so I installed mpi4py using the following command:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;conda install mpi4py&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;But when I tried running it I got the following error:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;/opt/anaconda1anaconda2anaconda3/share/openmpi/help-opal-runtime.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Fortunately for me, &lt;a href=&quot;https://groups.google.com/a/continuum.io/forum/#!topic/anaconda/7CsGQKNvcdQ&quot;&gt;someone else encountered a similar error&lt;/a&gt;. Until anaconda fixes their bug, an inelegant hack is to make a symbolic link pointing from /opt/ana… to the correct path. I have anaconda python installed for all users, so instead of pointing the symbolic link to my home directory, I pointed it to the directory containing the anaconda python distribution, the Applications directory:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;sudo ln -s /Applications/anaconda/ /opt/anaconda1anaconda2anaconda3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;I did this on all 5 machines that I plan on testing MPI on. The next step is to create a hostfile containing the names or IP addresses of all hosts that will be used for computing. This is just a simple text file containing nothing more than the name of the host and the number of slots, or threads, to run on it at any given time:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;host1.example.edu &lt;span class=&quot;nv&quot;&gt;slots&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;12
host2.example.edu &lt;span class=&quot;nv&quot;&gt;slots&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;8&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The example tests in the &lt;a href=&quot;http://mpi4py.scipy.org/docs/usrman/install.html&quot;&gt;mpi4py documentation&lt;/a&gt; failed for me, but @jbornschein put together a nice &lt;a href=&quot;https://github.com/jbornschein/mpi4py-examples&quot;&gt;github repository with some example code&lt;/a&gt;. I ran the 01-helloworld example, specifying the hosts I wanted to distribute the jobs to:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;projects/mpi4pyexamples
mpirun --hostfile myhostfile.txt ./01-helloworld&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;After a rather long delay in returning a result, an error was returned saying it could connect on the default port. That makes sense since we use non-default ports for our machines. After some searching, it doesn’t seem like there’s any way to specify the port in the hostfile, instead I used an ssh config file. I’m using Mac OS X 10.10, and setting a config file up was quite quick and easy to do:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;emacs ~/.ssh/config&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and for contents add&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;Host host1.example.edu
   Hostname host1.example.edu
   Port 2400

Host host2.example.edu
   Hostname host2.example.edu
   Port 2400&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;After adding the hosts and ports to the &lt;code&gt;config&lt;/code&gt; file, I didn’t need to restart, or open a new terminal window or anything else that might be expected. Reissuing the same command in the same terminal window returned an immediate result:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;∞ mpirun --hostfile myhostfile ./01-hello-world
Hello! I&lt;span class=&quot;s1&quot;&gt;&amp;#39;m rank 1 from 8 running in total...&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;Hello! I&amp;#39;&lt;/span&gt;m rank &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; from &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; running in total...
Hello! I&lt;span class=&quot;s1&quot;&gt;&amp;#39;m rank 0 from 8 running in total...&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;Hello! I&amp;#39;&lt;/span&gt;m rank &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; from &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; running in total...
Hello! I&lt;span class=&quot;s1&quot;&gt;&amp;#39;m rank 7 from 8 running in total...&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;Hello! I&amp;#39;&lt;/span&gt;m rank &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt; from &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; running in total...
Hello! I&lt;span class=&quot;s1&quot;&gt;&amp;#39;m rank 5 from 8 running in total...&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;Hello! I&amp;#39;&lt;/span&gt;m rank &lt;span class=&quot;m&quot;&gt;6&lt;/span&gt; from &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; running in total...
^Cmpirun: killing job...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;However, as you can see things didn’t end very well. I had to kill the job, otherwise I end up with a strange error:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;∞ mpirun --hostfile hostfile ./01-hello-world
Hello! I&lt;span class=&quot;s1&quot;&gt;&amp;#39;m rank 0 from 8 running in total...&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;Hello! I&amp;#39;&lt;/span&gt;m rank &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; from &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; running in total...
Hello! I&lt;span class=&quot;s1&quot;&gt;&amp;#39;m rank 1 from 8 running in total...&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;Hello! I&amp;#39;&lt;/span&gt;m rank &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; from &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; running in total...
Hello! I&lt;span class=&quot;s1&quot;&gt;&amp;#39;m rank 4 from 8 running in total...&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;Hello! I&amp;#39;&lt;/span&gt;m rank &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt; from &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; running in total...
Hello! I&lt;span class=&quot;s1&quot;&gt;&amp;#39;m rank 6 from 8 running in total...&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;Hello! I&amp;#39;&lt;/span&gt;m rank &lt;span class=&quot;m&quot;&gt;7&lt;/span&gt; from &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt; running in total...
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;host2.example.edu&lt;span class=&quot;o&quot;&gt;][[&lt;/span&gt;7061,1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;,4&lt;span class=&quot;o&quot;&gt;][&lt;/span&gt;btl_tcp_endpoint.c:638:mca_btl_tcp_endpoint_complete_connect&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; connect&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; to 128.5.5.6 failed: Operation timed out &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;host2.example.edu&lt;span class=&quot;o&quot;&gt;][[&lt;/span&gt;7061,1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;,5&lt;span class=&quot;o&quot;&gt;][&lt;/span&gt;btl_tcp_endpoint.c:638:mca_btl_tcp_endpoint_complete_connect&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; connect&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; to 128.5.5.6 failed: Operation timed out &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;host2.example.edu&lt;span class=&quot;o&quot;&gt;][[&lt;/span&gt;7061,1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;,6&lt;span class=&quot;o&quot;&gt;][&lt;/span&gt;btl_tcp_endpoint.c:638:mca_btl_tcp_endpoint_complete_connect&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; connect&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; to 128.5.5.6 failed: Operation timed out &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;host2.example.edu&lt;span class=&quot;o&quot;&gt;][[&lt;/span&gt;7061,1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;,7&lt;span class=&quot;o&quot;&gt;][&lt;/span&gt;btl_tcp_endpoint.c:638:mca_btl_tcp_endpoint_complete_connect&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; connect&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; to 128.5.5.6 failed: Operation timed out &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;host1.example.edu&lt;span class=&quot;o&quot;&gt;][[&lt;/span&gt;7061,1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;,0&lt;span class=&quot;o&quot;&gt;][&lt;/span&gt;btl_tcp_endpoint.c:638:mca_btl_tcp_endpoint_complete_connect&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; connect&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; to 128.5.5.5 failed: Operation timed out &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;host1.example.edu&lt;span class=&quot;o&quot;&gt;][[&lt;/span&gt;7061,1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;,1&lt;span class=&quot;o&quot;&gt;][&lt;/span&gt;btl_tcp_endpoint.c:638:mca_btl_tcp_endpoint_complete_connect&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; connect&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; to 128.5.5.5 failed: Operation timed out &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;host1.example.edu&lt;span class=&quot;o&quot;&gt;][[&lt;/span&gt;7061,1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;,2&lt;span class=&quot;o&quot;&gt;][&lt;/span&gt;btl_tcp_endpoint.c:638:mca_btl_tcp_endpoint_complete_connect&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; connect&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; to 128.5.5.5 failed: Operation timed out &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;host1.example.edu&lt;span class=&quot;o&quot;&gt;][[&lt;/span&gt;7061,1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;,3&lt;span class=&quot;o&quot;&gt;][&lt;/span&gt;btl_tcp_endpoint.c:638:mca_btl_tcp_endpoint_complete_connect&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; connect&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; to 128.5.5.5 failed: Operation timed out &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;I downloaded the &lt;a href=&quot;https://bitbucket.org/mpi4py/mpi4py/downloads&quot;&gt;source code&lt;/a&gt; for mpi4py, changed directories into the downloaded directory and tried running their tests:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;mpiexec --hostfile hostfile python &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;/runtests.py&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Running &lt;code&gt;runtests.py&lt;/code&gt; when the &lt;code&gt;hostfile&lt;/code&gt; contains only &lt;code&gt;host1.example.edu&lt;/code&gt; or &lt;code&gt;host2.example.edu&lt;/code&gt; works fine. However, when I include both hosts I end up with the same error as the &lt;code&gt;helloworld.py&lt;/code&gt; example. This error doesn’t crop up with the &lt;code&gt;mpi4py&lt;/code&gt; &lt;code&gt;helloworld&lt;/code&gt; example, just the &lt;code&gt;mpi4py-examples&lt;/code&gt; &lt;code&gt;helloworld&lt;/code&gt;. The difference between the failed and successful versions being that the version that fails waits for all jobs to finish up at the end through &lt;code&gt;comm.Barrier()&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/15072563/running-mpi-on-two-hosts&quot;&gt;This article&lt;/a&gt;, which discusses the communication was helpful — it appears the two computers, host1 and host2, can communicate with the machine I am running the commands from, but they cannot communicate with eachother.&lt;/p&gt;

&lt;p&gt;I disabled the firewall through System Preferences -&amp;gt; Security &amp;amp; Privacy. This worked for the &lt;code&gt;helloworld.py&lt;/code&gt; example, but not for &lt;code&gt;tests/runtests.py&lt;/code&gt;. I should also mention that &lt;code&gt;host1&lt;/code&gt; has 12 cores and &lt;code&gt;host2&lt;/code&gt; has 8 cores. While testing out my hostfile I had reduced the number of “slots” on each to 4 and it worked. When I increased the number of slots on either host above 4, the connection failed error message reappeared when running &lt;code&gt;helloworld.py&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;It looks like part of the problem may be that &lt;code&gt;host1&lt;/code&gt; and &lt;code&gt;host2&lt;/code&gt; are using different SSH ports, and therefore cannot communicate between each other. I switched to using two host machines that are using the same ports for SSH, and both &lt;code&gt;helloworld.py&lt;/code&gt; and &lt;code&gt;runtests.py&lt;/code&gt; finished up successfully.&lt;/p&gt;

&lt;p&gt;However, adding a third machine is now causing issues…&lt;/p&gt;

&lt;p&gt;This turned out to be that the firewall was still on despite turning it off through the GUI in system preferences. Simply turning the firewall off through the System Preferences GUI worked on 2 of the 3 machines, so I’m not sure why it got hung up on the third. If you’re having similar problems, try taking a look at either “All Messages” or “secure.log” in the console (or /var/log/secure.log) on the mac host. If you see lines stating that the Firewall refused connection, this is your problem too. Simply restarting the system did the trick. I’ve now added several more machines and have executed &lt;code&gt;helloworld.py&lt;/code&gt; and &lt;code&gt;tests/runtests.py&lt;/code&gt; successfully on 96 cores!&lt;/p&gt;
</description>
        <pubDate>Tue, 27 Jan 2015 13:25:09 -0500</pubDate>
        <link>http://mattgiguere.github.io/2015/01/27/setting-up-mpi4py.html</link>
        <guid isPermaLink="true">http://mattgiguere.github.io/2015/01/27/setting-up-mpi4py.html</guid>
        
        <category>python,</category>
        
        <category>mpi4py,</category>
        
        <category>mcmc,</category>
        
        <category>osx,</category>
        
        <category>anaconda</category>
        
        
      </item>
    
      <item>
        <title>Out of Range Table</title>
        <description>&lt;p&gt;I looked into a problem that occurred recently when adding observations to the &lt;code&gt;spectra&lt;/code&gt; table over break. The error message was&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;n&quot;&gt;DataError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1264&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;&amp;quot;Out of range value for column &amp;#39;spec_id&amp;#39; at row 305&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This was due to using a normal &lt;code&gt;INT&lt;/code&gt; type for the index. The fix is quite simple in MySQL, you can change the type using the command:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table_name&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;MODIFY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;column_name&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;BIGINT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;However, &lt;code&gt;spec_id&lt;/code&gt; is also auto incrementing and the PRIMARY KEY for
my table. Here is the description of &lt;code&gt;spec_id&lt;/code&gt; BEFORE ALTERing the
TABLE:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;describe&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spectra&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;----------------+--------------+------+-----+---------+----------------+&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Field&lt;/span&gt;          &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Type&lt;/span&gt;         &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Default&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Extra&lt;/span&gt;          &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;----------------+--------------+------+-----+---------+----------------+&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec_id&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NO&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PRI&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;auto_increment&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Since there is already a PRIMARY KEY set (spec_id), MySQL will produce an
error if PRIMARY KEY is specified when attempting to MODIFY the TABLE.
Fortunately, this does not matter — the spec_id column will
remain the primary key even if PRIMARY KEY is not specified. However, &lt;code&gt;AUTO_INCREMENT&lt;/code&gt; &lt;strong&gt;does&lt;/strong&gt; need to be specified when altering the column.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table_name&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;MODIFY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;column_name&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;BIGINT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In my specific case the command used to change my MySQL column
from an &lt;code&gt;INT&lt;/code&gt; type to &lt;code&gt;BIGINT&lt;/code&gt; was&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spectra&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;MODIFY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec_id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;BIGINT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;which resulted in&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;describe&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spectra&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;------------+------------+------+-----+---------+----------------+&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Field&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Type&lt;/span&gt;       &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Default&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Extra&lt;/span&gt;          &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;------------+------------+------+-----+---------+----------------+&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spec_id&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bigint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NO&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PRI&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;auto_increment&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Using &lt;code&gt;BIGINT&lt;/code&gt; for the type will allow for up to &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.5/en/integer-types.html&quot;&gt;9 Quadrillion&lt;/a&gt; rows in the table! That should last for a while.&lt;/p&gt;
</description>
        <pubDate>Sun, 04 Jan 2015 13:53:10 -0500</pubDate>
        <link>http://mattgiguere.github.io/2015/01/04/out-of-range-table.html</link>
        <guid isPermaLink="true">http://mattgiguere.github.io/2015/01/04/out-of-range-table.html</guid>
        
        <category>mysql</category>
        
        
      </item>
    
      <item>
        <title>Quantifying Correlation</title>
        <description>&lt;p&gt;In a &lt;a href=&quot;http://arxiv.org/abs/1411.5374&quot;&gt;recent&lt;/a&gt; work, I used the Pearson linear correlation coefficient, \rho, to describe the linear correlation between the radial velocity (RV) measurements and the S-values. I also made a &lt;a href=&quot;https://github.com/mattgiguere/pyutil/blob/master/pearsonBootstrapPvalue.py&quot;&gt;chunk of code&lt;/a&gt;, named &lt;code&gt;pearsonBootstrapPvalue.py&lt;/code&gt;, that calculates the p-value through a bootstrap Monte Carlo analysis.&lt;/p&gt;

&lt;p&gt;These two pieces of code came in handy again for some recent work measuring the H-alpha spectral line for activity analysis, and checking for correlation with the  RV measurements.&lt;/p&gt;

&lt;p&gt;For the H-alpha analysis I was doing today, I wrote a few more lines to add the Pearson linear correlation coefficient and its associated p-value to an optional plot output.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Show_PearsonBootstrapPlot.png&quot; alt=&quot;Pearson Rho Distribution from Bootstrap Monte Carlo Permutations&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The figure above is the output from &lt;code&gt;pearsonBootstrapPvalue.py&lt;/code&gt;. The blue bins show the distribution of bootstrapped p-values, the red lines show the calculated p-value of the unscrambled RV-Halpha data, and highlighted in salmon are the scrambled bootstrap permutations that are more extreme, i.e. show a more significant correlation or anti-correlation, than the unscrambled data set. Since a significant fraction of the scrambled permutations are more extreme than the unscrambled data set, there is no significant linear correlation in this data set.&lt;/p&gt;

&lt;p&gt;If you’re interested in stellar activity, I should note that H-alpha equivalent widths in this data set were based on a 5 angstrom wide integration centered on the line center, and the line center was determined by fitting a parabola to the H-alpha line core. I attempted to fit H-alpha using many methods, and fitting the 5 A wide line  resulted in one of the least significant correlations.&lt;/p&gt;

</description>
        <pubDate>Fri, 02 Jan 2015 13:39:21 -0500</pubDate>
        <link>http://mattgiguere.github.io/2015/01/02/quantifying-correlation.html</link>
        <guid isPermaLink="true">http://mattgiguere.github.io/2015/01/02/quantifying-correlation.html</guid>
        
        <category>statistics</category>
        
        <category>activity</category>
        
        <category>planets</category>
        
        <category>p-values</category>
        
        <category>bootstrap</category>
        
        <category>MonteCarlo</category>
        
        <category>frequentist</category>
        
        
      </item>
    
      <item>
        <title>Blogging with Jekyll</title>
        <description>&lt;p&gt;This is my first blog post that uses &lt;a href=&quot;http://jekyllrb.com&quot;&gt;jekyll&lt;/a&gt; to build the site. It was surprisingly easy to get up and running, and makes posting entries to my github page quick and painless.&lt;/p&gt;

</description>
        <pubDate>Fri, 02 Jan 2015 10:25:21 -0500</pubDate>
        <link>http://mattgiguere.github.io/jekyll/update/2015/01/02/my-first-post-with-jekyll.html</link>
        <guid isPermaLink="true">http://mattgiguere.github.io/jekyll/update/2015/01/02/my-first-post-with-jekyll.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
  </channel>
</rss>
